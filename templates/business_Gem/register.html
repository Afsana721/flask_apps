{% extends "business_Gem/base.html" %}

{% block content %}
<div class="max-w-3xl mx-auto mt-10">
  <!-- Registration Form Section -->
  <div class="bg-white p-8 rounded-lg shadow-md">
    <h2 class="text-3xl font-bold text-center text-indigo-700 mb-8 animate-pulse">Register as Buyer or Seller</h2>

    <!-- Select role -->
    <div class="mb-6 text-center">
      <label class="font-semibold mr-4">Register as:</label>
      <select id="userType" class="border rounded px-4 py-2" onchange="toggleForm(this.value)">
        <option value="seller">Seller</option>
        <option value="buyer">Buyer</option>
      </select>
    </div>

    <!-- Form Starts -->
    <form method="POST" action="{{ url_for('register') }}" class="grid grid-cols-2 gap-4" id="registrationForm">
      <!-- Seller Section -->
      <div id="sellerSection" class="col-span-2 grid grid-cols-2 gap-4">
        <input type="text" name="seller_fullname" placeholder="Full Name" class="px-4 py-2 border rounded">
        <input type="text" name="seller_username" placeholder="Username" class="px-4 py-2 border rounded">
        <input type="password" name="seller_password" placeholder="Password" class="px-4 py-2 border rounded">
        <input type="email" name="seller_email" placeholder="Email" class="px-4 py-2 border rounded">
        <input type="text" name="location" placeholder="Location" class="px-4 py-2 border rounded">
        <!-- New field: Business Type -->
        <select name="business_type" class="px-4 py-2 border rounded">
          <option value="">Select Business Type</option>
          <option value="Jewelry">Jewelry</option>
          <option value="High Jewelry">High Jewelry</option>
          <option value="Moissanite">Moissanite</option>
          <option value="Lab-Grown Diamonds">Lab-Grown Diamonds</option>
          <option value="Brand Journey">Brand Journey</option>
        </select>
      </div>

      <!-- Buyer Section -->
      <div id="buyerSection" class="col-span-2 grid grid-cols-2 gap-4 hidden">
        <input type="text" name="buyer_username" placeholder="Username" class="px-4 py-2 border rounded">
        <input type="password" name="buyer_password" placeholder="Password" class="px-4 py-2 border rounded">
        <input type="email" name="buyer_email" placeholder="Email" class="px-4 py-2 border rounded">
      </div>

      <div class="col-span-2">
        <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded">Register</button>
      </div>
    </form>
  </div>

  <!-- Embedded Video Section Below Form -->
  <div class="mt-12 rounded-lg overflow-hidden">
    <video autoplay loop muted playsinline class="w-full h-96 object-cover rounded shadow-lg">
      <source src="{{ url_for('static', filename='assets/videos/register1.mp4') }}" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>
</div>

<script>
  function toggleForm(userType) {
    const seller = document.getElementById('sellerSection');
    const buyer = document.getElementById('buyerSection');
    if (userType === 'seller') {
      seller.classList.remove('hidden');
      buyer.classList.add('hidden');
    } else {
      seller.classList.add('hidden');
      buyer.classList.remove('hidden');
    }
  }
</script>

{% endblock %}
